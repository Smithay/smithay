<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Protocol-related utilities"><title>smithay::wayland - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="smithay" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (7ac0330c6 2025-09-25)" data-channel="nightly" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-061df703.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module wayland</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../smithay/index.html">smithay</a><span class="version">0.7.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module wayland</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#general-structure" title="General structure">General structure</a></li><li><a href="#provided-helpers" title="Provided helpers">Provided helpers</a><ul><li><a href="#core-functionality" title="Core functionality">Core functionality</a></li></ul></li></ul><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate smithay</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">smithay</a></div><h1>Module <span>wayland</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/smithay/wayland/mod.rs.html#2-98">Source</a> </span></div><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>wayland_frontend</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Protocol-related utilities</p>
<p>This module contains several handlers to manage the Wayland protocol
and the clients.</p>
<h3 id="general-structure"><a class="doc-anchor" href="#general-structure">§</a>General structure</h3>
<p>Most utilities provided in this module work in the same way:</p>
<ul>
<li>A module specific <code>*State</code> struct will take the wayland display as argument and
insert one or more globals into it through its constructor.</li>
<li>The module-<code>State</code> will have to be stored inside your global compositor state.
(The same type you parametrized <a href="../../wayland_server/display/struct.Display.html" title="struct wayland_server::display::Display"><code>wayland_server::Display</code></a> over.)</li>
<li>You need to implement a module-specific <code>*Handler</code>-trait for your compositor state.
This implementation will be called when wayland events require custom handling.</li>
<li>Call the matching <code>delegate_*!</code> macro from smithay on your state to implement
some required <code>wayland_server</code> traits.</li>
<li>If you want to remove a previously inserted global, just drop the <code>*State</code>.</li>
</ul>
<h3 id="provided-helpers"><a class="doc-anchor" href="#provided-helpers">§</a>Provided helpers</h3><h4 id="core-functionality"><a class="doc-anchor" href="#core-functionality">§</a>Core functionality</h4>
<p>The most fundamental module is the <a href="compositor/index.html" title="mod smithay::wayland::compositor"><code>compositor</code></a> module, which provides the necessary
logic to handle the fundamental component by which clients build their windows: surfaces.
Following this, the <a href="shell/index.html" title="mod smithay::wayland::shell"><code>shell</code></a> module contains the logic allowing clients to use their
surface to build concrete windows with the usual interactions. Different kind of shells
exist, but in general you will want to support at least the <a href="shell/xdg/index.html" title="mod smithay::wayland::shell::xdg"><code>xdg</code></a> variant,
which is the standard used by most applications.</p>
<p>Then, the <a href="seat/index.html" title="mod smithay::wayland::seat"><code>seat</code></a> module contains logic related to input handling. These helpers are used
to forward input (such as pointer action or keystrokes) to clients, and manage the input
focus of clients. Tightly coupled with it is the <a href="selection/index.html" title="mod smithay::wayland::selection"><code>selection</code></a> module, which handles
cross-client interactions such as accessing the clipboard, or drag’n’drop actions.</p>
<p>The <a href="shm/index.html" title="mod smithay::wayland::shm"><code>shm</code></a> module provides the necessary logic for client to provide buffers defining the
contents of their windows using shared memory. This is the main mechanism used by clients
that are not hardware accelerated. As a complement, the <a href="dmabuf/index.html" title="mod smithay::wayland::dmabuf"><code>dmabuf</code></a> module provides support
hardware-accelerated clients; it is tightly linked to the
<a href="../backend/allocator/index.html" title="mod smithay::backend::allocator"><code>backend::allocator</code></a> module.</p>
<p>The <a href="output/index.html" title="mod smithay::wayland::output"><code>output</code></a> module helps forwarding to clients information about the display monitors that
are available. This notably plays a key role in HiDPI handling, and more generally notifying
clients about whether they are currently visible or not (allowing them to stop drawing if they
are not, for example).</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="alpha_modifier/index.html" title="mod smithay::wayland::alpha_modifier">alpha_<wbr>modifier</a></dt><dd>Implementation of <code>wp_alpha_modifier</code> protocol</dd><dt><a class="mod" href="background_effect/index.html" title="mod smithay::wayland::background_effect">background_<wbr>effect</a></dt><dd>Implementation of <code>ext_background_effect_manager_v1</code> protocol</dd><dt><a class="mod" href="buffer/index.html" title="mod smithay::wayland::buffer">buffer</a></dt><dd>Buffer management traits.</dd><dt><a class="mod" href="commit_timing/index.html" title="mod smithay::wayland::commit_timing">commit_<wbr>timing</a></dt><dd>Utilities for handling the <code>wp-commit-timing</code> protocol</dd><dt><a class="mod" href="compositor/index.html" title="mod smithay::wayland::compositor">compositor</a></dt><dd>Utilities for handling surfaces, subsurfaces and regions</dd><dt><a class="mod" href="content_type/index.html" title="mod smithay::wayland::content_type">content_<wbr>type</a></dt><dd>Implementation of wp_content_type protocol</dd><dt><a class="mod" href="cursor_shape/index.html" title="mod smithay::wayland::cursor_shape">cursor_<wbr>shape</a></dt><dd>Utilities for compositor side cursor theming support</dd><dt><a class="mod" href="dmabuf/index.html" title="mod smithay::wayland::dmabuf">dmabuf</a></dt><dd>Linux DMABUF protocol</dd><dt><a class="mod" href="drm_lease/index.html" title="mod smithay::wayland::drm_lease">drm_<wbr>lease</a><wbr><span class="stab portability" title="Available on crate feature `backend_drm` only"><code>backend_drm</code></span></dt><dd>DRM Lease protocol</dd><dt><a class="mod" href="drm_syncobj/index.html" title="mod smithay::wayland::drm_syncobj">drm_<wbr>syncobj</a><wbr><span class="stab portability" title="Available on crate feature `backend_drm` only"><code>backend_drm</code></span></dt><dd>DRM syncobj protocol</dd><dt><a class="mod" href="fifo/index.html" title="mod smithay::wayland::fifo">fifo</a></dt><dd>Utilities for handling the <code>wp-fifo</code> protocol</dd><dt><a class="mod" href="fixes/index.html" title="mod smithay::wayland::fixes">fixes</a></dt><dd><code>wl_fixes</code> protocol</dd><dt><a class="mod" href="foreign_toplevel_list/index.html" title="mod smithay::wayland::foreign_toplevel_list">foreign_<wbr>toplevel_<wbr>list</a></dt><dd>Foreign toplevel list</dd><dt><a class="mod" href="fractional_scale/index.html" title="mod smithay::wayland::fractional_scale">fractional_<wbr>scale</a></dt><dd>Utilities for handling the <code>wp_fractional_scale</code> protocol</dd><dt><a class="mod" href="idle_inhibit/index.html" title="mod smithay::wayland::idle_inhibit">idle_<wbr>inhibit</a></dt><dd>Utilities for handling the <code>zwp_idle_inhibit</code> protocol</dd><dt><a class="mod" href="idle_notify/index.html" title="mod smithay::wayland::idle_notify">idle_<wbr>notify</a></dt><dd>This interface allows clients to monitor user idle status.</dd><dt><a class="mod" href="image_capture_source/index.html" title="mod smithay::wayland::image_capture_source">image_<wbr>capture_<wbr>source</a></dt><dd>Image capture source protocol</dd><dt><a class="mod" href="image_copy_capture/index.html" title="mod smithay::wayland::image_copy_capture">image_<wbr>copy_<wbr>capture</a></dt><dd>Image copy capture protocol (screencopy)</dd><dt><a class="mod" href="input_method/index.html" title="mod smithay::wayland::input_method">input_<wbr>method</a></dt><dd>Utilities for input method support</dd><dt><a class="mod" href="keyboard_shortcuts_inhibit/index.html" title="mod smithay::wayland::keyboard_shortcuts_inhibit">keyboard_<wbr>shortcuts_<wbr>inhibit</a></dt><dd>Protocol for inhibiting the compositor keyboard shortcuts</dd><dt><a class="mod" href="output/index.html" title="mod smithay::wayland::output">output</a></dt><dd>WlOutput advertising capabilities</dd><dt><a class="mod" href="pointer_constraints/index.html" title="mod smithay::wayland::pointer_constraints">pointer_<wbr>constraints</a></dt><dd>Protocol for confining the pointer.</dd><dt><a class="mod" href="pointer_gestures/index.html" title="mod smithay::wayland::pointer_gestures">pointer_<wbr>gestures</a></dt><dd>Utilities for pointer gestures support</dd><dt><a class="mod" href="pointer_warp/index.html" title="mod smithay::wayland::pointer_warp">pointer_<wbr>warp</a></dt><dd>Wp Pointer Warp</dd><dt><a class="mod" href="presentation/index.html" title="mod smithay::wayland::presentation">presentation</a></dt><dd>Utilities for handling the <code>wp_presentation</code> protocol</dd><dt><a class="mod" href="relative_pointer/index.html" title="mod smithay::wayland::relative_pointer">relative_<wbr>pointer</a></dt><dd>Utilities for relative pointer support</dd><dt><a class="mod" href="seat/index.html" title="mod smithay::wayland::seat">seat</a></dt><dd>Seat global utilities</dd><dt><a class="mod" href="security_context/index.html" title="mod smithay::wayland::security_context">security_<wbr>context</a></dt><dd>Utilities for handling the security context protocol</dd><dt><a class="mod" href="selection/index.html" title="mod smithay::wayland::selection">selection</a></dt><dd>Handler utilities for the various selection protocols.</dd><dt><a class="mod" href="session_lock/index.html" title="mod smithay::wayland::session_lock">session_<wbr>lock</a></dt><dd>Utilities for handling the <code>ext-session-lock</code> protocol</dd><dt><a class="mod" href="shell/index.html" title="mod smithay::wayland::shell">shell</a></dt><dd>Handler utilities for the various shell protocols</dd><dt><a class="mod" href="shm/index.html" title="mod smithay::wayland::shm">shm</a></dt><dd>SHM handling helpers</dd><dt><a class="mod" href="single_pixel_buffer/index.html" title="mod smithay::wayland::single_pixel_buffer">single_<wbr>pixel_<wbr>buffer</a></dt><dd>Utilities for handling the <code>wp_single_pixel_buffer</code> protocol</dd><dt><a class="mod" href="socket/index.html" title="mod smithay::wayland::socket">socket</a></dt><dd>Wayland listening socket.</dd><dt><a class="mod" href="tablet_manager/index.html" title="mod smithay::wayland::tablet_manager">tablet_<wbr>manager</a></dt><dd>Utilities for graphics tablet support</dd><dt><a class="mod" href="text_input/index.html" title="mod smithay::wayland::text_input">text_<wbr>input</a></dt><dd>Utilities for text input support</dd><dt><a class="mod" href="viewporter/index.html" title="mod smithay::wayland::viewporter">viewporter</a></dt><dd>Utilities for handling the <code>wp_viewporter</code> protocol</dd><dt><a class="mod" href="virtual_keyboard/index.html" title="mod smithay::wayland::virtual_keyboard">virtual_<wbr>keyboard</a></dt><dd>Utilities for virtual keyboard support</dd><dt><a class="mod" href="xdg_activation/index.html" title="mod smithay::wayland::xdg_activation">xdg_<wbr>activation</a></dt><dd>Utilities for handling activation requests with the <code>xdg_activation</code> protocol</dd><dt><a class="mod" href="xdg_foreign/index.html" title="mod smithay::wayland::xdg_foreign">xdg_<wbr>foreign</a></dt><dd>Implementation <code>xdg_foreign</code> protocol</dd><dt><a class="mod" href="xdg_system_bell/index.html" title="mod smithay::wayland::xdg_system_bell">xdg_<wbr>system_<wbr>bell</a></dt><dd>XDG System Bell</dd><dt><a class="mod" href="xdg_toplevel_icon/index.html" title="mod smithay::wayland::xdg_toplevel_icon">xdg_<wbr>toplevel_<wbr>icon</a></dt><dd>XDG Toplevel Icon</dd><dt><a class="mod" href="xdg_toplevel_tag/index.html" title="mod smithay::wayland::xdg_toplevel_tag">xdg_<wbr>toplevel_<wbr>tag</a></dt><dd>XDG Toplevel Tag</dd><dt><a class="mod" href="xwayland_keyboard_grab/index.html" title="mod smithay::wayland::xwayland_keyboard_grab">xwayland_<wbr>keyboard_<wbr>grab</a><wbr><span class="stab portability" title="Available on crate feature `xwayland` only"><code>xwayland</code></span></dt><dd>Utilities for handling the xwayland keyboard grab protocol</dd><dt><a class="mod" href="xwayland_shell/index.html" title="mod smithay::wayland::xwayland_shell">xwayland_<wbr>shell</a><wbr><span class="stab portability" title="Available on crate feature `xwayland` only"><code>xwayland</code></span></dt><dd>Helpers for handling the xwayland shell protocol</dd></dl></section></div></main></body></html>