<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Move a window during a drag"><title>wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../../../../" data-static-root-path="../../../../../../static.files/" data-current-crate="wayland_protocols" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (7ac0330c6 2025-09-25)" data-channel="nightly" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-061df703.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module xdg_toplevel_drag_manager_v1</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../../wayland_protocols/index.html">wayland_<wbr>protocols</a><span class="version">0.32.9</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module xdg_<wbr>toplevel_<wbr>drag_<wbr>manager_<wbr>v1</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In wayland_<wbr>protocols::<wbr>xdg::<wbr>toplevel_<wbr>drag::<wbr>v1::<wbr>server</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../../../index.html">wayland_protocols</a>::<wbr><a href="../../../../index.html">xdg</a>::<wbr><a href="../../../index.html">toplevel_drag</a>::<wbr><a href="../../index.html">v1</a>::<wbr><a href="../index.html">server</a></div><h1>Module <span>xdg_<wbr>toplevel_<wbr>drag_<wbr>manager_<wbr>v1</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../../../src/wayland_protocols/xdg.rs.html#177-180">Source</a> </span></div><span class="item-info"><div class="stab portability">Available on <strong>crate features <code>staging</code> and <code>server</code></strong> only.</div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Move a window during a drag</p>
<p>This protocol enhances normal drag and drop with the ability to move a
window at the same time. This allows having detachable parts of a window
that when dragged out of it become a new window and can be dragged over
an existing window to be reattached.</p>
<p>A typical workflow would be when the user starts dragging on top of a
detachable part of a window, the client would create a wl_data_source and
a xdg_toplevel_drag_v1 object and start the drag as normal via
wl_data_device.start_drag. Once the client determines that the detachable
window contents should be detached from the originating window, it creates
a new xdg_toplevel with these contents and issues a
xdg_toplevel_drag_v1.attach request before mapping it. From now on the new
window is moved by the compositor during the drag as if the client called
xdg_toplevel.move.</p>
<p>Dragging an existing window is similar. The client creates a
xdg_toplevel_drag_v1 object and attaches the existing toplevel before
starting the drag.</p>
<p>Clients use the existing drag and drop mechanism to detect when a window
can be docked or undocked. If the client wants to snap a window into a
parent window it should delete or unmap the dragged top-level. If the
contents should be detached again it attaches a new toplevel as described
above. If a drag operation is cancelled without being dropped, clients
should revert to the previous state, deleting any newly created windows
as appropriate. When a drag operation ends as indicated by
wl_data_source.dnd_drop_performed the dragged toplevel window’s final
position is determined as if a xdg_toplevel_move operation ended.</p>
<p>Warning! The protocol described in this file is currently in the testing
phase. Backward compatible changes may be added together with the
corresponding interface version bump. Backward incompatible changes can
only be done by creating a new major version of the extension.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.XdgToplevelDragManagerV1.html" title="struct wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::XdgToplevelDragManagerV1">XdgToplevel<wbr>Drag<wbr>Manager<wbr>V1</a></dt><dd>Move a window during a drag</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.Error.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::Error">Error</a></dt><dt><a class="enum" href="enum.Event.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::Event">Event</a></dt><dt><a class="enum" href="enum.Request.html" title="enum wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::Request">Request</a></dt></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.REQ_DESTROY_OPCODE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::REQ_DESTROY_OPCODE">REQ_<wbr>DESTROY_<wbr>OPCODE</a></dt><dd>The wire opcode for this request</dd><dt><a class="constant" href="constant.REQ_DESTROY_SINCE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::REQ_DESTROY_SINCE">REQ_<wbr>DESTROY_<wbr>SINCE</a></dt><dd>The minimal object version supporting this request</dd><dt><a class="constant" href="constant.REQ_GET_XDG_TOPLEVEL_DRAG_OPCODE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::REQ_GET_XDG_TOPLEVEL_DRAG_OPCODE">REQ_<wbr>GET_<wbr>XDG_<wbr>TOPLEVEL_<wbr>DRAG_<wbr>OPCODE</a></dt><dd>The wire opcode for this request</dd><dt><a class="constant" href="constant.REQ_GET_XDG_TOPLEVEL_DRAG_SINCE.html" title="constant wayland_protocols::xdg::toplevel_drag::v1::server::xdg_toplevel_drag_manager_v1::REQ_GET_XDG_TOPLEVEL_DRAG_SINCE">REQ_<wbr>GET_<wbr>XDG_<wbr>TOPLEVEL_<wbr>DRAG_<wbr>SINCE</a></dt><dd>The minimal object version supporting this request</dd></dl></section></div></main></body></html>